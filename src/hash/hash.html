<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>hash模式测试</title>
</head>
<body>
    <a href="#/a">A页面</a>
    <a href="#/b">B页面</a>
    <div id="app"></div>
    <script>
        /**
         * 使用light-server npm包测试history模式和hash模式
         * 
         * 前端路由的由来可以理解是基于SPA页面局部更新特点的，但是要解决SPA的两个问题
         * 1. 改变url不让浏览器向服务器发送请求
         * 2. 监听url变化，执行对应的操作
         * 
         * 哈希模式下，http://localhost:3000/hash.html#/a， #/a === window.location.hash， hash值改变触发hashchange事件
         * 优点：浏览器兼容性较好，可支持IE8
         * 缺点：路径在井号后面，形式较丑
         * 
         * hash模式的特点：
         * 1. hash值得变化不会导致浏览器想服务器发送请求，不会引起页面刷新
         * 2. hash值变化会触发hashchange事件
         * 3. hash值变化会在浏览器的历史中留下记录，使用的浏览器的后退按钮可以回到上一个hash值
         * 4. hash值永远不会提交到服务器，即使刷新页面也不会
        */
        const app = document.querySelector('#app');
        function render() {
            app.innerHTML = window.location.hash;
        }
        window.addEventListener('hashchange', render);
        render();
    </script>
</body>
</html>